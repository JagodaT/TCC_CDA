---
title: "TCC CDA BLACK LIVES MATTER"
author: "Cris, Ieda e Marilia"
output:
  word_document: default
  pdf_document: default
  html_document: default
---

# Carrega bibliotecas

```{r}
install.packages('plotly')
library(ggplot2)
library(plotly)
library(tidyverse)
library(fs)
library(leaflet)
```

# Lista arquivos no diretorio e dados
```{r}
dir_ls("DATA")
```

DATA/TABELA 2.4
Renda domiciliar per capita das chefes de família por Cor/Raça - Brasil e Regiões, 1995 a 2015.

DATA/TABELA 2.6
Distribuição percentual das famílias chefiadas por mulheres, segundo cor/raça e faixa de anos de estudo da chefe de família - Brasil, 1995 a 2015

DATA/TABELA 6.1
População economicamente ativa de 16 anos ou mais de idade, por sexo, segundo cor/raça e localização do domicílio - Brasil e Regiões, 1995 a 2015

Fonte: Ipea

Observação: os dados obtidos referem-se ao Censo mais recente = anos de 1995 a 205

# Renda Per Capita

```{r}
df_renda_per_capita <- read_xlsx("DATA/Tabela_2.4_Feminina.xlsx")
```


Faz uma tabela auxiliar de Mulheres Negras ordenada por Regiao e Ano

```{r}
df_renda_per_capita_mulheres_negras <- df_renda_per_capita %>%
  filter(`Cor/Raça` == "Negra")
df_renda_per_capita_mulheres_negras
```

Faz uma tabela auxiliar de Mulheres Brancas ordenada por Regiao e Ano

```{r}
df_renda_per_capita_mulheres_brancas <- df_renda_per_capita %>%
  filter(`Cor/Raça` == "Branca")
df_renda_per_capita_mulheres_brancas
```


# Grafico de Renda Per Capita Mulheres Brancas por Ano e Região

```{r}
df_renda_per_capita_mulheres_brancas %>%
  pivot_longer(cols = `1995.0` : `2015.0` , names_to = "ano", values_to = "valor") %>%
  #pivot_longer(cols = matches("\\d") , names_to = "ano", values_to = "valor") %>%
    ggplot(aes( as.integer(ano) ,valor, group = Região, color = Região)) +
    geom_line() +
    labs(title = "Renda Per Capita Mulheres Brancas Chefes de Família", caption = "fonte: https://www.ipea.gov.br/retrato/indicadores_chefia_familia.html
",  x = "Ano", y = "Valor em Reais")
```



# Grafico de Renda Per Capita de Mulheres Negras por Regiao de 1995 a 2015

```{r}
df_renda_per_capita_mulheres_negras %>%
  pivot_longer(cols = `1995.0` : `2015.0` , names_to = "ano", values_to = "valor") %>%
  #pivot_longer(cols = matches("\\d") , names_to = "ano", values_to = "valor") %>%
    ggplot(aes( as.integer(ano) ,valor, group = Região, color = Região)) +
    geom_line() +
    labs(title = "Renda Per Capita Mulheres Negras Chefes de Família", caption = "fonte: https://www.ipea.gov.br/retrato/indicadores_chefia_familia.html
",  x = "Ano", y = "Valor em Reais")
```


Faz uma tabela auxiliar de Renda Per Capita de Mulheres Brancas e Negras no Brasil

```{r}
df_renda_per_capita_mulheres_Brasil <- df_renda_per_capita %>%
  filter(`Região` == "Brasil")
df_renda_per_capita_mulheres_Brasil
```

# Grafico de Renda Per Capita de Mulheres Brancas e Negras no Brasil de 1995 a 2015

```{r}
df_renda_per_capita_mulheres_Brasil %>%
  pivot_longer(cols = `1995.0` : `2015.0` , names_to = "ano", values_to = "valor") %>%
  #pivot_longer(cols = matches("\\d") , names_to = "ano", values_to = "valor") %>%
    ggplot(aes( as.integer(ano) ,valor, group = `Cor/Raça`, color = `Cor/Raça`)) +
    geom_line() +
    labs(title = "Renda Per Capita Mulheres Negras e Brancas Chefes de Família",  subtitle = "Brasil" , caption = "fonte: https://www.ipea.gov.br/retrato/indicadores_chefia_familia.html
",  x = "Ano", y = "Valor em Reais")
```

Faz uma tabela auxiliar de Renda Per Capita de Mulheres Brancas e Negras no Centro-Oeste

```{r}
df_renda_per_capita_mulheres_Centro_Oeste <- df_renda_per_capita %>%
  filter(`Região` == "Centro-Oeste")
df_renda_per_capita_mulheres_Centro_Oeste
```

# Grafico de Renda Per Capita de Mulheres Brancas e Negras no Centro-Oeste de 1995 a 2015

```{r}
df_renda_per_capita_mulheres_Centro_Oeste %>%
  pivot_longer(cols = `1995.0` : `2015.0` , names_to = "ano", values_to = "valor") %>%
  #pivot_longer(cols = matches("\\d") , names_to = "ano", values_to = "valor") %>%
    ggplot(aes( as.integer(ano) ,valor, group = `Cor/Raça`, color = `Cor/Raça`)) +
    geom_line() +
    labs(title = "Renda Per Capita Mulheres Negras e Brancas Chefes de Família",  subtitle = "Centro-Oeste" , caption = "fonte: https://www.ipea.gov.br/retrato/indicadores_chefia_familia.html
",  x = "Ano", y = "Valor em Reais")
```



# Distribuição percentual das famílias chefiadas por mulheres, segundo cor/raça e faixa de anos de estudo da chefe de família - Brasil, 1995 a 2015

```{r}
df_anos_de_estudo <- read_xlsx("DATA/Tabela_2.6.xlsx")
df_anos_de_estudo
```


# Tabelas auxiliares de Mulheres Chefes de Familia por Raça e Total - valores percentuais

```{r}
df_anos_de_estudo_mulheres_negras <- df_anos_de_estudo %>%
  filter(`Cor/Raça` == "Negra")
df_anos_de_estudo_mulheres_negras

df_anos_de_estudo_mulheres_brancas <- df_anos_de_estudo %>%
  filter(`Cor/Raça` == "Branca")
df_anos_de_estudo_mulheres_brancas

df_anos_de_estudo_mulheres_total <- df_anos_de_estudo %>%
  filter(`Cor/Raça` == "Total")
df_anos_de_estudo_mulheres_total
```


#Gráficos Anos de Estudo
#parei aqui
```{r}
df_anos_de_estudo_mulheres_negras %>%
  pivot_longer(cols = `1995.0` : `2015.0` , names_to = "ano", values_to = "valor") 
```




```{r}
df_anos_de_estudo_mulheres_negras %>%
  pivot_longer(cols = `1995.0` : `2015.0` , names_to = "ano", values_to = "valor") %>%
   #filter (ano == 1995.0) %>%
    ggplot(aes( as.integer(ano) , valor,  group = `Anos de Estudo`, color = `Anos de Estudo` )) +
# ggplot(aes( as.integer(ano) ,valor, group = Região, color = Região)) + 
      geom_point() +
    labs(title = "Anos de Estudo Mulheres Negras Chefes de Família", caption = "fonte: https://www.ipea.gov.br/retrato/indicadores_chefia_familia.html
",  x = "Ano" , y = "Percentual")
```
 


```{r}
df_anos_de_estudo_mulheres_negras %>%
  pivot_longer(cols = `1995.0` : `2015.0` , names_to = "ano", values_to = "valor")
```



```{r}
df_anos_de_estudo_mulheres_negras %>%
  pivot_longer(cols = `1995.0` : `2015.0` , names_to = "ano", values_to = "valor") %>%
   ggplot(aes( as.integer(`ano`) ,valor, group = (`Anos de Estudo`)  , fill = `Anos de Estudo` ))  + geom_col()  + 
  labs( title = "Anos de Estudo Mulheres Negras Chefes de Família", caption = "fonte: https://www.ipea.gov.br/retrato/indicadores_chefia_familia.html",  x = "Ano" )
```



```{r}
df_anos_de_estudo_mulheres_brancas %>%
  pivot_longer(cols = `1995.0` : `2015.0` , names_to = "ano", values_to = "valor") %>%
   ggplot(aes( as.integer(`ano`) ,valor, group = (`Anos de Estudo`)  , fill = `Anos de Estudo` ))  + geom_col()  + 
  labs( title = "Anos de Estudo Mulheres Brancas Chefes de Família", caption = "fonte: https://www.ipea.gov.br/retrato/indicadores_chefia_familia.html",  x = "Ano" )
```













